---
title: useLocale()
description: useLocale 钩子的 API 参考
---

## 概述

`useLocale` 钩子从 [`<GTProvider>` 上下文](/docs/react/api/components/gtprovider)中检索用户的当前语言环境。
返回的语言环境是[格式化为字符串](/docs/reference/locale-strings)，例如 `'en-US'`。

<Callout>
    确保您的应用程序被包裹在一个 [`<GTProvider>`](/docs/react/api/components/gtprovider) 中。
</Callout>

## 参考

### 返回值

一个表示用户当前语言环境的字符串，例如，`'en-US'`。

---

## 回退行为
当请求不支持的语言环境时，将选择一个回退语言环境。

例如，在不支持的语言环境的情况下，
如果 (1) 用户在其浏览器设置中配置了多个首选语言环境，
并且 (2) 这些语言环境之一被您的应用程序支持，
那么语言环境将回退到最佳语言。

此外，如果没有可用的回退语言环境，
但两个语言环境共享相同的语言（例如，`en-US` 和 `en-GB`），
那么语言环境将回退到支持的共享相同语言的语言环境。

如果这两个条件都无法满足，则将使用默认语言环境。

有关配置支持的语言环境的信息，请参见 [`<GTProvider>`](/docs/react/api/config/gtprovider)。

---

## 示例

### 基本用法

获取当前语言环境并在您的组件中显示。

```jsx title="CurrentLocale.jsx" copy
import { useLocale } from 'gt-react';

export default function CurrentLocale() {
    const locale = useLocale(); // [!code highlight]
    return <p>当前语言环境: {locale}</p>;
}
```

---


## 注意事项
 * `useLocale()` 钩子依赖于 [`<GTProvider>`](/docs/react/api/components/gtprovider) 来访问上下文。
   确保您的应用程序在根级别用提供者包裹。
 * 在[这里](/docs/reference/locale-strings)了解更多关于语言环境字符串的信息。

## 下一步
 * 了解如何在您的应用程序中管理和指定支持的语言环境，请参阅[语言环境管理](/docs/react/reference/local-management)。
 * 要访问备用语言，请参阅[`useDefaultLocale()`](/docs/react/api/helpers/useDefaultLocale)。