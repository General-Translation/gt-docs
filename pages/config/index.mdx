import { Callout } from 'nextra/components'

# Configuring `gt-react`

The `gt-react` library is initialized using the `createGT()` function. This function accepts an object with various configuration options.

This function should be called in a configuration file called something like `i18n.js`, and placed in the root of your project.

```javascript copy
// i18n.js
// initialize gt-react to translate myDictionary to French, German, Spanish, and Italian

import myDictionary from './dictionary'
import { createGT } from 'gt-react/next'

// use the t() exported from this file in your components
export const {
	t, GTProvider
} = createGT({
	projectID: "abcdef12-3456-789a-bcd4-ef123456789a"
	defaultLocale: "en",
	dictionaryName: "my-app", // "default" if left blank
	approvedLocales: [
		"en", "fr", "de", "es", "it"
	],
	dictionary: myDictionary,
	description: "My personal site" // a description of the project which will be used to help translate
});
```

## Essential parameters

### `defaultLocale`

- **Type**: `string`
- **Description**: Specifies the default locale for the app. This is the language that you use natively for your app.

### `approvedLocales`

- **Type**: `string[]`
- **Description**: The locales to which the app should be internationalized. 

### `projectID`

- **Type**: `string`
- **Description**: Specifies the project ID, which can be found on the General Translation [Dashboard](https://www.generaltranslation.com/dashboard). This ID can also be set in the environment as `GT_PROJECT_ID`.

## Setting environment variables

<Callout>
	You need an API key to use the [CLI tool](/essentials/cli). Server-side API keys are recommended, but not strictly necessary, in production, so you can use [on-demand](/#what-happens-if-a-translation-doesnt-exist) and [inline](/inline) translation.
</Callout>

An API key is a 36-character string beginning `gtx-` which is used to authenticate your app with our cloud translation service. Create one on the [API Keys](https://www.generaltranslation.com/dashboard/redirect/api-keys) page.

Keep your API key somewhere safe and secret.

Then copy your Project ID, which can be found on the Dashboard:

![Code copy container entitled "projectID"](/screenshots/project_id.jpeg)

Set two environment variables:

```.env copy
GT_API_KEY=""
GT_PROJECT_ID=""
```

- For `GT_API_KEY`, use your API key.
- For `GT_PROJECT_ID`, use your Project ID.

In [Next.js](https://nextjs.org/docs/app/building-your-application/configuring/environment-variables) this is done by editing `.env.local`. 
In other frameworks, such as Express.js, use a package like [dotenv](https://github.com/motdotla/dotenv).

## List of parameters

<Callout>Besides `apiKey` and `projectID`, which should be set in the environment, all parameters are optional. This means `gt-react` functions can be initialized by calling `createGT()` with no arguments.</Callout>

| Parameter                | Type                                      | Default Value                              | Description                                                                                   |
|--------------------------|-------------------------------------------|--------------------------------------------|-----------------------------------------------------------------------------------------------|
| **Cloud Integration**    |                                           |                                            |                                                                                               |
| `apiKey`                 | `string`                                  | Value of environment variable `GT_API_KEY` | API key to authenticate with cloud services.                                                  |
| `projectID`              | `string`                                  | Value of environment variable `GT_PROJECT_ID` | Project ID to authenticate with cloud services.                                               |
| `baseURL`                | `string`                                  | `"https://prod.gtx.dev"`                   | Base URL for API requests.                                                                    |
| `cacheURL`               | `string`                                  | `"https://cache.gtx.dev"`                  | URL for the global cache.                                                                     |
| `remoteSource`           | `boolean`                                 | `true`                                     | Determines whether the library fetches a dictionary from a remote cache.                      |
| `automaticTranslation`   | `boolean`                                 | `true`                                     | Determines whether the library translates using cloud services.                               |
| **Locale Information**   |                                           |                                            |                                                                                               |
| `approvedLocales`        | `string[]`                                |                                            | List of approved locales.                                                                     |
| `defaultLocale`          | `string`                                  | First locale in `approvedLocales` or `'en'` | Default locale for the translation.                                                           |
| `getLocale`              | `() => string`                            | Function that returns `defaultLocale`      | Function to get the current locale.                                                           |
| **Rendering**            |                                           |                                            |                                                                                               |
| `renderPrevious`         | `boolean`                                 | `true`                                     | Experimental. If true, uses a previous translation on file remotely as a placeholder while the new translation loads. |
| `renderMethod`           | `string`                                  | `"replace"`                                | Determines how translations are rendered for the first time. Options are "replace", "skeleton", "hang", "subtle". |
| `renderTimeout`          | `number \| null`                          | `12500`                                    | Timeout (in milliseconds) before rendering a new translation is called off.                   |
| **Dictionaries**         |                                           |                                            |                                                                                               |
| `dictionaryName`         | `string`                                  | `"default"`                                | Name of the dictionary to use.                                                                |
| `dictionary`             | `Record<string, any>`                     |                                            | Dictionary object containing default language content.                                        |
| `translations`           | `Record<string, () => Promise<Record<string, any>>>` |                              | An object containing strings that correspond to locales and functions that define translation dictionaries associated with those locales. |
| **Batching Configuration**|                                          |                                            |                                                                                               |
| `maxConcurrentRequests`  | `number`                                  | `2`                                        | Maximum number of concurrent requests.                                                        |
| `batchInterval`          | `number`                                  | `1000`                                     | Interval for batching requests in milliseconds.                                               |
| **Other Metadata**       |                                           |                                            |                                                                                               |
| `getMetadata`            | `() => Record<string, any>`               |                                            | Function to get additional metadata.                                                          |
| `description`            | `string`                                  |                                            | Description of your project used to help translation.                                         |
| `...metadata`            | `any`                                     |                                            | Any additional metadata. Used for experimental variables.                                     |
